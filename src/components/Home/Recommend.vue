<template>
  <div class="w-100">
    <h1 class="text-left m-3"><strong>Recommendation</strong></h1>
    <hr/>
    <div v-if="isLogin">
      <!-- <span v-if="profile.articles.length"> -->
        <div class="mx-3">
          <div v-if="!recommendScore">ë°ì´í„°ê°€ ë¶€ì¡±í•©ë‹ˆë‹¤!</div>
          <div v-else>
            <br><h4>{{searchedMovie[0].title}}ì˜ ì¶”ì²œ ì ìˆ˜ëŠ” <span id="dif-txt">{{ recommendScore }}ì </span>ì…ë‹ˆë‹¤! </h4>
            <br>
            <div v-if="recommendScore >= 4">ì´ ì˜í™”ì˜ ì¶”ì²œë“±ê¸‰ì€ <h4 class="font-italic d-inline">"ğŸ¥‡ ì¸ìƒì˜í™”" </h4> ì…ë‹ˆë‹¤.</div>
            <div v-else-if="recommendScore >= 3">ì´ ì˜í™”ì˜ ì¶”ì²œë“±ê¸‰ì€ <h4 class="font-italic d-inline">"ğŸ¥ˆ ì¬ë°ŒëŠ”ì˜í™”" </h4> ì…ë‹ˆë‹¤.</div>
            <div v-else-if="recommendScore >= 2">ì´ ì˜í™”ì˜ ì¶”ì²œë“±ê¸‰ì€ <h4 class="font-italic d-inline">"ğŸ¥‰ ë³¼ë§Œí•œì˜í™”" </h4> ì…ë‹ˆë‹¤.</div>
            <div v-else>ì´ ì˜í™”ì˜ ì¶”ì²œë“±ê¸‰ì€ <h4 class="font-italic d-inline">"ì‹œê°„ì£½ì´ê¸°ì˜í™”" </h4> ì…ë‹ˆë‹¤.</div>
            <br>
            <div id="barBottom" />
            <div id="barTop" :style="{ width: vwidth }"/>
            <br>
          </div>
        </div>
      <!-- </span> -->
      <!-- <span v-else>
        <div class="my-5 mx-1">
          <h4 class="text-center my-3">ì´ ì˜í™”ì˜ ì¶”ì²œì—¬ë¶€ë¥¼ ì•Œê³ ì‹¶ë‹¤ë©´ ë¦¬ë·°ë¥¼ ì‘ì„±í•´ì£¼ì„¸ìš”!</h4>
          <b-button size="lg" @click="goCommunity" variant="info">ë¦¬ë·° ì‘ì„±í•˜ê¸°</b-button>
        </div>
      </span> -->
    </div>

    <div v-else class="my-5 mx-1">
      <h4 class="text-center my-3">ë‹¤ë¥¸ ì‚¬ëŒì˜ ë¦¬ë·°ë¥¼ ë³´ê³  ì‹¶ë‹¤ë©´ ë¡œê·¸ì¸ í•˜ì„¸ìš”!</h4>
      <b-button size="lg" @click="goLogin" variant="secondary">ë¡œê·¸ì¸</b-button>
    </div>


  </div>
</template>

<script>
export default {
  name: "Recommend",
  methods: {
    goLogin: function () {
      this.$router.push({ name: "Login" });
    },
    goCommunity: function () {
      this.$router.push({ name: "Community" });
    },
  },
  computed: {
    isLogin: function () {
      return this.$store.state.is_login;
    },
    profile: function () {
      return this.$store.state.profile
    },
    searchedMovie: function () {
      return this.$store.state.searchedMovie
    },
    recommendScore: function () {
      return this.$store.state.recommendScore
    },
    vwidth: function () {
      return `${this.recommendScore*20}%`
    }
  },
};
</script>

<style>
#dif-txt {
  color: lightcoral;
}
#barTop {
  background-color: violet;
  height: 3vh;
  border-top-left-radius: 7px;
  border-bottom-left-radius: 7px;
  position: relative;
  top: -3vh;
}
#barBottom {
  background-color: midnightblue;
  height: 3vh;
  width: 100%;
  border-top-left-radius: 7px;
  border-bottom-left-radius: 7px;
  border-top-right-radius: 7px;
  border-bottom-right-radius: 7px;
  position: relative;
}
</style>